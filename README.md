# Flask Group Project - Plitter
In this project, you will work will your group to build a fully functional backend for a twitter like product: Plitter

## Installation
You will need to add a virtual environment for this project where you will install your dependencies.
This basically makes it so that the libraries needed for this project will remain in your local folder, and not crowd storage in your "global" python installation.

- In your Flask Group folder, run `python -m venv env`
- Run `source env/Scripts/activate` to start your virtual environment
- Run `pip install -r requirements.txt` to install your dependencies

Note that you will have to enter your virtual environment each time you work to have access to Flask

## Specification
All of the request payloads are JSON, and the responses should also all be JSON.
In Plitter, there are preregistered users that make pleets (tweets). There is a character limit of 50 characters.
There is no real authentication system. At PlexTech we believe in the honor system.
These are the individual methods of this project:

### GET an individual pleet by a pleet_id
- Request URL: `/pleets/{pleet_id}` (GET)
- Sample Response (200):
```
    {
        "pleet_id": "45be55eb-27d1-4350-8d51-9ca2512229ea",
        "user": {
            "user_id": "714edd71-799d-4c25-bb55-9dba9b095ae9",
            "display name": "Dev Bali",
            "username": "devbali"
        },
        "text": "Sample pleet",
        "datetime": 1642567497
    }
```
- Sample Response (404):
```
    {
        "message": "Pleet not found!"
    }
```
- This is the structure of a single Pleet
- Each "_id" field are what are called UUIDs. These are good ways to get a unique id. In python, you can easily generate one by:
    import uuid
    str(uuid.uuid4())
- The datetime here is given as a unix timestamp, a way to represent a datetime in a single integer
- Search online for how to convert python's datetime object into this integer, and viceversa

### GET top 10 recent pleets
- Request URL `/pleets` (GET)
- Sample Response (200):
```
    {
        "pleets": [
            {
                "pleet_id": "45be55eb-27d1-4350-8d51-9ca2512229ea",
                "user": {
                    "user_id": "714edd71-799d-4c25-bb55-9dba9b095ae9",
                    "display name": "Dev Bali",
                    "username": "devbali"
                },
                "text": "Sample pleet",
                "datetime": 1642567497
            },
            {
                "pleet_id": "c98399c2-a788-4e4d-868f-1fc6f1649ca1",
                "user": {
                    "user_id": "9e045d37-a955-4292-96f1-c726a5f9b073",
                    "display name": "Rhythm Seth",
                    "username": "socialguy"
                },
                "text": "मैं कमाठीपुरा राष्ट्रवादी हूं - I am a Kamathipura nationalist",
                "datetime": 1642567297
            },
            ... # up to 8 more pleets
        ]
    }
```
- It is very simply just an array of 10 pleets where each pleet is the same structure as seen before
- Note that a pleet can have any utf-8 characters, like emojis, non-latin text.

### GET all pleets of a particular user_id
- Request URL: `/users/{user_id}/pleets` (GET)
- Response (200):
```
    {
        "pleets": [
            {
                "pleet_id": "ba20e7f2-66e0-4698-8ce6-2bae9652eacd",
                "user": {
                    "user_id": "f1e681cc-900e-4a07-9548-2e9b33b30fd7",
                    "display name": "Charlie Shou",
                    "username": "charlie"
                },
                "text": "Working on the next assignment",
                "datetime": 1642565497
            },
            ... # more pleets by charlie
        ]
    }
```
- Sample Response (404):
```
    {
        "message": "User not found!"
    }
```

- Similar to method before, but all pleets by a single user

### POST make a new pleet
- Request URL: `/pleets` (POST)
- Sample Request Body:
```
    {
        "username": "charlie",
        "text": "New project just dropped!"
    }
```
- Sample Response (200):
```
    {
        "message": "Pleet successfully added!",
        "pleet_id": "f1e681cc-900e-4a07-9548-2e9b33b30fd7"
    }
```
- Sample Response (404):
```
    {
        "message": "User not found!"
    }
```
- Note that anyone can pleet from any username
- The pleet_id returned should be a new UUID generated by your program (as mentioned before)

### DELETE a pleet
- Request URL: `/pleets/{pleet_id}` (DELETE)
- Sample Response (200):
```
    {
        "message": "Pleet successfully deleted!"
    }
```
- Sample Response (404):
```
    {
        "message": "Pleet not found!"
    }
```
- Note that anyone can delete a pleet from any username 


### PUT edit profile
- Request URL: `/users/{user_id}` (PUT)
- Sample Request Body:
```
    {
        "display name": "Rhythmmmmm Seth"
    }
```
- Sample Response (200):
```
    {
        "message": "User Profile Successfully edited!"
    }
```
- Sample Response (404):
```
    {
        "message": "User not found!"
    }
```
- Note that really the only user field that can be edited is the display name.

## General Tips
- Make sure to match the format described here in requests and responses **perfectly**, otherwise the tests might not pass
- Use your Curriculum Officer's help when stuck!
- Do not modify/touch anything in the testing directory. Just deal with the src directory
- Do not try to re organize the data storage too much. Use the `Users` and `Pleets` arrays and add dictionaries to them. 
- Run main.py from the `src` directory with the command `python app.py`

## Testing
- Make sure to have `app.py` running when you are running your tests
- There is a testing directory, when you think you are done, you can run `pytest` to run all of the tests
- Use Postman to make sure your routes are working as intended
- If you want to reset the data.json, run `reset_data.py`
- If all of your tests are passing, you are done. Congratulations!
